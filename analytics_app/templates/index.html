<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Analytics Dashboard</title>
    <style>
        body { font-family: Arial; margin: 30px; background: #f8f8f8; }
        h1 { color: #333; }
        .section { background: #fff; padding: 20px; margin-top: 20px; border-radius: 5px; box-shadow: 0 0 5px rgba(0,0,0,0.1); }
        ul { padding-left: 20px; }
    </style>
</head>
<body>
    <h1>Analytics Dashboard</h1>
    <div class="section">
        <h2>Unique Customers</h2>
        <p>{{ unique_customers }}</p>
    </div>
    <div class="section">
        <h2>Loyal Customers (3+ purchases)</h2>
        {% if loyal_customers %}
        <ul>
            {% for customer in loyal_customers %}
                <li>{{ customer }}</li>
            {% endfor %}
        </ul>
        {% else %}
        <p>No loyal customers yet.</p>
        {% endif %}
    </div>
    <div class="section">
        <h2>Top Products</h2>
        {% if top_products %}
        <ul>
            {% for product, count in top_products.items() %}
                <li>{{ product }} - {{ count }}</li>
            {% endfor %}
        </ul>
        {% else %}
        <p>No product sales data yet.</p>
        {% endif %}
    </div>
</body>
</html>
